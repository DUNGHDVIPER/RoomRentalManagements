@page "/profile"
@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Components.Authorization
@using System.Security.Claims
@attribute [Authorize]
@inject AuthenticationStateProvider Auth

<div class="card" style="max-width:720px;margin:0 auto;padding:18px;">
    <h2 class="h2">Profile</h2>
    <p class="muted">Basic profile screen (FE-only)</p>
    <hr class="hr" />

    <div class="muted">Signed in as: <b>@email</b></div>
</div>

@code {
    string email = "";
    protected override async Task OnInitializedAsync()
    {
        var st = await Auth.GetAuthenticationStateAsync();
        email = st.User.FindFirstValue(ClaimTypes.Email) ?? st.User.Identity?.Name ?? "";
    }
}
